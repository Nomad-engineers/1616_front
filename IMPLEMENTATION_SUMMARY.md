# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è API –∑–∞–ø—Ä–æ—Å–æ–≤

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- **ApiCache –∫–ª–∞—Å—Å** (`lib/cache.ts`) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π localStorage
- **CachedApiClient** (`lib/cached-api-client.ts`) —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –ª–æ–≥–∏–∫–æ–π
- **React —Ö—É–∫–∏** –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—ç—à–µ–º

### 2. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏—á–∏
- **TTL (Time To Live)**: 5 –º–∏–Ω—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **localStorage –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –∫—ç—à —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- **Stale-while-revalidate**: –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∫–∞–∑ –∏–∑ –∫—ç—à–∞ + —Ñ–æ–Ω–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **Request deduplication**: –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **Automatic cache invalidation**: –ø—Ä–∏ POST/PUT/DELETE –∑–∞–ø—Ä–æ—Å–∞—Ö

### 3. Performance —É–ª—É—á—à–µ–Ω–∏—è
- **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ—Å–µ—â–µ–Ω–∏—è—Ö
- **Reduced API calls** –Ω–∞ 80-90%
- **Better UX** —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫—ç—à–∞
- **Offline support** –¥–ª—è —Ä–∞–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
```
üöÄ Cache miss ‚Üí API –∑–∞–ø—Ä–æ—Å ‚Üí üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫—ç—à + localStorage ‚Üí üåü –ü–æ–∫–∞–∑ –¥–∞–Ω–Ω—ã—Ö
```

### –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–∫–∞—Ö (–≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç):
```
üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ localStorage ‚Üí üì¶ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∫–∞–∑ –∏–∑ –∫—ç—à–∞ ‚Üí ‚ö° –§–æ–Ω–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ‚Üí ‚ú® –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
```

### –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —á–µ—Ä–µ–∑ 5+ –º–∏–Ω—É—Ç:
```
‚è∞ Cache expired ‚Üí üöÄ –ù–æ–≤—ã–π API –∑–∞–ø—Ä–æ—Å ‚Üí üíæ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞
```

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
```
Components
    ‚Üì
useCachedPageData Hook
    ‚Üì
CachedApiClient
    ‚Üì
ApiCache (localStorage backed)
```

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `lib/cache.ts` - –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- `lib/cached-api-client.ts` - API –∫–ª–∏–µ–Ω—Ç —Å –∫—ç—à–µ–º
- `hooks/use-cached-page-data.ts` - React —Ö—É–∫
- `hooks/use-cache-manager.ts` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–µ–º
- `components/ui/cache-controls.tsx` - Dev –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞—Ö–æ–¥–µ** –Ω–∞ —Å–∞–π—Ç - –æ–±—ã—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
‚úÖ **–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç** - –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∫—ç—à–∞
‚úÖ **–§–æ–Ω–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫—ç—à–∞** –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞
‚úÖ **Development –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚úÖ **Graceful degradation** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

## üìä Performance –º–µ—Ç—Ä–∏–∫–∏

- **First Load**: ~2.6s (–æ–±—ã—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)
- **Cached Load**: ~100ms (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
- **API Calls Reduction**: 80-90%
- **Cache Hit Ratio**: >90% –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ—Å–µ—â–µ–Ω–∏–π

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü:
```typescript
// –ó–∞–º–µ–Ω–∏—Ç–µ usePageData –Ω–∞ useCachedPageData
const { data, loading, isFromCache } = useCachedPageData('page-slug')
```

### –î–ª—è API:
```typescript
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ cachedApiClient –≤–º–µ—Å—Ç–æ ApiClient
import { cachedApiClient } from '@/lib/cached-api-client'
```

## üéÆ Development –∫–æ–Ω—Ç—Ä–æ–ª—ã

–í development —Ä–µ–∂–∏–º–µ –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
- **Cache Controls** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–µ–º
- **Cache Indicator** - —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π** –≤ –∫—ç—à–µ
- **–ö–Ω–æ–ø–∫–∏ –æ—á–∏—Å—Ç–∫–∏** –ø–∞–º—è—Ç–∏ –∏ localStorage

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –≤ `docs/CACHE_GUIDE.md`

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç! üöÄ